<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Player</title>
    <link href="//amp.azure.net/libs/amp/2.3.4/skins/amp-default/azuremediaplayer.min.css" rel="stylesheet">
    <script src="//amp.azure.net/libs/amp/2.3.4/azuremediaplayer.min.js"></script>
</head>
<body>
    <video id="azuremediaplayer" class="azuremediaplayer amp-default-skin amp-big-play-centered" tabindex="0"></video>
    <script>
        var vidUrl = getParameterByName('url');
        var h = getParameterByName('h');
        var w = getParameterByName('w');
        var height = (h && h.length > 0 ? h : "400");
        var width = (w && w.length > 0 ? w : "640");
        if (vidUrl && vidUrl.length > 0) {
            var myOptions = {
                "nativeControlsForTouch": false,
                controls: true,
                autoplay: true,
                width: width,
                height: height,
            }
            myPlayer = amp("azuremediaplayer", myOptions);
            myPlayer.src([
                {
                    "src": vidUrl,
                    "type": "application/vnd.ms-sstr+xml"
                }
            ]);
        }


        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }
    </script>
    <!--

    <iframe src="player.html?url=%2F%2Famssamples.streaming.mediaservices.windows.net%2F3b970ae0-39d5-44bd-b3a3-3136143d6435%2FAzureMediaServicesPromo.ism%2Fmanifest&w=490&h=270" name="azuremediaplayer" scrolling="no" frameborder="no" align="center" height="280px" width="500px" allowfullscreen></iframe>
         -->
</body>
</html>